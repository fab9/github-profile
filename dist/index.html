<!doctype>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/octicons/2.1.2/octicons.min.css">
    <style>
      body > .container {
        min-width: 1020px;
      }

      .navbar-brand {
        font-size: 4ex;
      }

      .stats big {
        font-size: 200%;
      }

      .bio li {
        line-height: 2;
      }
      .bio .octicon:before {
        display: inline-block;
        color: gray;
        width: 2em;
        text-align: center;
      }
      .main .panel { /* bootstrap override */
        padding-right: 0;
        padding-left: 0;
      }
      .main > section { /* bootstrap override */
        padding-right: 0;
        padding-left: 0;
      }
      .pink {
        background-color: pink;
      }

      .purple {
        background-color: thistle;
      }

      .blue {
        background-color: lightblue;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <nav class="row navbar navbar-default">
        <div class="container">
          <a class="navbar-brand octicon octicon-logo-github" href="#">
            <span hidden>home</span></a>
        </div>
      </nav>
      <div class="row">
        <!-- Begin sidebar -->
        <aside class="sidebar col-xs-3 col-sm-3 col-md-3">
          <a href="#" class="thumbnail" id="avatar"><img></a>
          <h1> <span>{{name}}</span> <br>
            <small>{{login}}</small></h1>
          <hr>
          <ul class="bio list-unstyled">
            <li> <i class="octicon octicon-organization"></i> {{company}}
            <li> <i class="octicon octicon-location"></i> {{location}}
            <li> <i class="octicon octicon-mail"></i> {{email}}
            <li> <i class="octicon octicon-link"></i> {{blog}}
            <li> <i class="octicon octicon-clock"></i> {{created_at}}... kinda
          </ul>
          <hr>
          <nav class="stats text-center">
            <a href="#" class="col-xs-4"><big>{{followers}}</big> Followers</a>
            <a href="#" class="col-xs-4"><big>{{starred.length???}}</big> Starred</a>
            <a href="#" class="col-xs-4"><big>{{following}}</big> Following</a>
          </ul>
        </aside><!-- .sidebar -->
        <!-- Begin main -->
        <section class="blue main col-xs-9 col-sm-9 col-md-9">
          <ul class="nav nav-tabs">
            <li class="active"> <a href="#" class="octicon octicon-diff-added "> Contributions </a>
            <li> <a href="#"> Repositories </a>
            <li> <a href="#"> Public activity </a>
          </ul>
          <br>

          <section class="pink col-xs-12 col-sm-12 col-md-12" id="tab-contributions">
            <div class="panel panel-default col-xs-6 col-sm-6 col-md-6" id="popular-repos">
                          <header class="panel-heading">
                            <h3 class="panel-title"> Popular Repositories </h3>
                          </header>
                          <nav class="list-group">
                            <a href="#" class="list-group-item">
                              <span class="badge octicon octicon-star">123</span>
                              <h4 class="list-group-item-heading octicon octicon-repo">
                                Repository Name</h4>
                              <p>This is the description of the repository.</p>
                            </a>
                            <a href="#" class="list-group-item">
                              <span class="badge octicon octicon-star">123</span>
                              <h4 class="list-group-item-heading octicon octicon-repo">
                                Repository Name</h4>
                              <p>This is the description of the repository.</p>
                            </a>
                            <a href="#" class="list-group-item">
                              <span class="badge octicon octicon-star">123</span>
                              <h4 class="list-group-item-heading octicon octicon-repo">
                                Repository Name</h4>
                              <p>This is the description of the repository.</p>
                            </a>
                          </nav>
                        </div> <!-- #popular-repos -->
                        <div class="panel panel-default col-xs-6 col-sm-6 col-md-6" id="repo-contribs">
                          <header class="panel-heading">
                            <h3 class="panel-title"> Repositories contributed to </h3>
                          </header>
                          <nav class="list-group">
                            <a href="#" class="list-group-item">
                              <span class="badge octicon octicon-star">123</span>
                              <h4 class="list-group-item-heading octicon octicon-repo">
                                Repository Name</h4>
                              <p>This is the description of the repository.</p>
                            </a>
                            <a href="#" class="list-group-item">
                              <span class="badge octicon octicon-star">123</span>
                              <h4 class="list-group-item-heading octicon octicon-repo">
                                Repository Name</h4>
                              <p>This is the description of the repository.</p>
                            </a>
                            <a href="#" class="list-group-item">
                              <span class="badge octicon octicon-star">123</span>
                              <h4 class="list-group-item-heading octicon octicon-repo">
                                Repository Name</h4>
                              <p>This is the description of the repository.</p>
                            </a>
                          </nav>
                        </div> <!-- #repo-contribs -->





            <div class="panel panel-default clearfix" id="public-contribs">
              <header class="panel-heading">
                <h4 class="panel-title"> Public contributions </h4>
              </header>
              <ul class="list-group">
                <li class="list-group-item">
                  <p> Contribution Graph ZOMG! </p>
                  <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec cursus diam quis leo placerat dictum. Fusce turpis quam, ultrices ut porta sed, aliquam at elit. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nulla risus nunc, molestie at congue sit amet, congue a sem. Maecenas ut ipsum vel arcu cursus cursus. Mauris a pulvinar ligula. Fusce tincidunt tempus turpis non vestibulum. Vestibulum sed enim velit, non molestie enim. Pellentesque at mi ipsum, vitae pulvinar dolor. Nam tempus dictum iaculis. Vivamus eget eros id diam iaculis sollicitudin. </p>
                </li>
                <li class="list-group-item col-xs-4">
                  <h6 class="list-group-item-heading"> Year of Contributions </h6>
                </li>
                <li class="list-group-item col-xs-4">
                  <h6 class="list-group-item-heading"> Longest Streak </h6>
                </li>
                <li class="list-group-item col-xs-4">
                  <h6 class="list-group-item-heading"> Current Streak </h6>
                </li>
                <li class="clearfix">
              </ul>
            </div> <!-- #public-contribs -->
            <div>
              <h4> Contribution activity </h4>

              <div class="well">
                <h5 class="big"> octocat has no activity during this period </h5>
              </div>
            </div>
          </section> <!-- #tab-contributions -->

          <section hidden class="purple col-xs-6 col-sm-6 col-md-6" id="tab-repositories">
            <ul class="list-group" id="repo-list">
              <li class="list-group-item">
                <h3 class="list-group-item-heading">Repository Name</h3>
                <p> This is the repository description. </p>
                <p class="muted">Updated on Month DD</p>
              </li>
            </ul> <!-- #repo-list -->
          </section> <!-- #tab-repositories -->
          <section hidden class="col-xs-12 col-sm-12 col-md-12" id="tab-activity">
            <ul class="list-unstyled">
              <li> <span class="muted">on Sep 3</span>
                <h5> <a href="#">octocat</a> pushed to
                  <a href="#">change-the-title</a> at
                  <a href="#">octocat/Spoon-Knife</a>
                </h5>
              </li>
            </ul>
          </section> <!-- #tab-activity -->
        </section>
      </div> <!-- .row -->
    </div>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script>

;(function(){ // closure
  jQuery.ajax('octocat.json', {
    success: function(data){
      console.log(data);

      jQuery('#avatar')
        .attr('href', data.avatar_url)
        .children('img')
          .attr('src', data.avatar_url)
      ; // END #avatar

      // TODO: Replace a bunch of stuff...
      var sidebar = jQuery('.sidebar');

      sidebar.children('h1')
        .children('span').text(data.name)
        .siblings('small').text(data.login)

      sidebar.children('.bio')
        .find('li').each(function(){
          console.log(arguments);
        });

      sidebar.children('.stats')
        .find('big').each(function(){
          console.log(arguments);
        });

    } // END success
  }); // END jQuery.ajax


  // TODO: Make tabs change when clicked...
  jQuery('.main').each(function(){
    var main = jQuery(this),
        tabs = main.find('.nav.nav-tabs a')

    tabs.click(function(event){
        console.log(this, event); // Now what?

        // TODO: Add "active" class to parent <li>
        // TODO: Remove "active" class from other <li>'s
        // TODO: Reveal corresponding "tab" section
        // TODO: Hide other "tab" sections
    }); // END click
  }); // each(.main)


    // ----------------
  // There's a shortcut for getting something and ajaxing and doing
  // something on success
  //
  //in console :
  //$.get('octocat.json', fundtion(data){});
  //
  //what is the diff bw ^^ and $.ajax('octocat.json')
  //
  //when i call an ajaxy method such as: $.get/ajax/etc(), it returns
  //a Promise object.
  // if everything goes well (the request goes through), the .done(callback) fires. So, on success, .done fires. On error, .error fires.
  // There's also a .finally and .always that can be fired...
  // when would I use those?
  // ---
  // We can setup a robot to make get requests:
  //
  // function getData() {
  //  return $.get(url)
  //    .error (function () {
  //      console.log('OMG!');
  //    });
  // }
  //
  // function getUser() {         // 1
  //  return getData('octocat.json');
  // }
  //
  // function getRepos() {          // 2
  //  return getData('octocat-repos.json');
  // }
  //
  // **** the result of getRepos ^^ is that promise, everytime
  // I call getRepos, I'll get another promise.****
  //
  // function getStarred() {
  //  return getData('octocat-starred.json');
  // }
  //
  // ===== $.when ===== below uses it to stick 2 promises together
  // var allData = $.when(
    // getUser(), getRepos()
    // );
  //
  //  allData.done(function(user,repos) {
    //  var data = {
    //    user: user[0],
    //    repos: repos[0]
    //    }
  //    console.info(data);
  //
  //    pull out and do text replacements
  //    for each element here... something like this...
  //
  //     jQuery('#avatar')
     //   .attr('href', data.avatar_url)
     //   .children('img')
     //     .attr('src', data.avatar_url)
     // ;
     //
     //
  //  }); // TODO: check this syntax
  //
  //
  //---
  //  promise is not built into js.
  //  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise
  //
  //

// ---
// in console:
// $.get('https://api.github.com/users/al-the-x', function(data) {
//    console.log(data);
// });


  // ----------------
})(); // END closure

    </script>
  </body>
</html>